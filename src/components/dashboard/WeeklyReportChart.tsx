import { useState } from "react";
import { MoreVertical } from "lucide-react";

const weeklyTabs = [
  { label: "Customers", value: "52k" },
  { label: "Total Stores", value: "3.5k" },
  { label: "Stock Products", value: "2.5k" },
  { label: "Out of Stock", value: "0.5k" },
  { label: "Revenue", value: "250k" },
];

export function WeeklyReportChart() {
  const [activeTab, setActiveTab] = useState(0);
  const [activeWeek, setActiveWeek] = useState<"this" | "last">("this");

  return (
    <div className="w-full h-[460px] bg-white rounded-lg shadow-[0_1px_3px_0_rgba(0,0,0,0.20)]">
      <div className="flex flex-col h-full">
        <div className="flex items-center gap-2 px-5 py-5 h-[78px]">
          <h2 className="flex-1 text-[18px] font-bold text-[#23272E] font-sans leading-[26px]">
            Report for this week
          </h2>
          <div className="flex items-center gap-2">
            <div className="flex items-start gap-1 bg-[#F5F6FA] rounded-xl p-1">
              <button
                onClick={() => setActiveWeek("this")}
                className={`flex items-center gap-1 px-3 py-2 rounded-lg text-xs font-poppins leading-[14px] transition-colors ${
                  activeWeek === "this"
                    ? "bg-white text-[#06888C] font-medium"
                    : "text-[#6A717F] font-normal"
                }`}
              >
                This week
              </button>
              <button
                onClick={() => setActiveWeek("last")}
                className={`flex items-center gap-1 px-3 py-2 rounded-lg text-xs font-poppins leading-[14px] transition-colors ${
                  activeWeek === "last"
                    ? "bg-white text-[#06888C] font-medium"
                    : "text-[#6A717F] font-normal"
                }`}
              >
                Last week
              </button>
            </div>
            <button className="p-0 hover:opacity-70 transition-opacity">
              <MoreVertical className="w-5 h-5 text-[#6A717F]" />
            </button>
          </div>
        </div>

        <div className="flex items-start gap-5 px-6 h-[78px]">
          {weeklyTabs.map((tab, index) => (
            <button
              key={index}
              onClick={() => setActiveTab(index)}
              className={`flex flex-col justify-center items-start gap-2 flex-1 py-[15px] px-2 min-w-[100px] transition-all ${
                index === activeTab
                  ? "border-b-2 border-[#06888C] bg-gradient-to-b from-[rgba(78,166,116,0)] to-[rgba(6,136,140,0.04)]"
                  : "border-b border-[#E9E7FD]"
              }`}
            >
              <span className="text-2xl font-bold text-[#23272E] font-sans leading-[22px]">
                {tab.value}
              </span>
              <span className="text-[13px] text-[#8B909A] font-sans leading-[18px] tracking-[-0.26px]">
                {tab.label}
              </span>
            </button>
          ))}
        </div>

        <div className="relative flex-1 px-9">
          <div className="absolute left-9 top-[46px] flex flex-col justify-between items-end w-6 h-[203px] text-sm text-[rgba(2,51,55,0.5)] font-sans leading-5">
            <span>50k</span>
            <span>40k</span>
            <span>30k</span>
            <span>20k</span>
            <span>10k</span>
            <span>0k</span>
          </div>

          <div className="absolute left-[72px] right-9 top-[46px] h-[203px] border-l-[0.5px] border-r-[0.5px] border-[rgba(0,0,0,0.20)]">
            {/* Inline SVG uploaded by user */}
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="636"
              height="210"
              viewBox="0 0 636 210"
              fill="none"
              className="w-full"
            >
              <mask id="path-1-inside-1_1267_4565" fill="white">
                <path d="M0 0H636V210H0V0Z" />
              </mask>
              <path
                d="M636 0H635.5V210H636H636.5V0H636ZM0 210H0.5V0H0H-0.5V210H0Z"
                fill="black"
                fillOpacity={0.2}
                mask="url(#path-1-inside-1_1267_4565)"
              />
              <path
                d="M0 144.072H43.9702C48.0996 144.072 52.1277 142.794 55.5016 140.413L105.511 105.123C108.885 102.742 112.913 101.464 117.042 101.464H190.74C193.695 101.464 196.614 102.119 199.285 103.381L255.575 129.981C258.247 131.244 261.165 131.899 264.12 131.899H301.343C307.419 131.899 313.165 129.137 316.961 124.392L355.267 76.5065C359.063 71.7619 364.809 69 370.885 69H451.817C458.162 69 464.13 72.0103 467.901 77.1125L494.15 112.627C497.921 117.729 503.889 120.739 510.233 120.739H557.444C564.365 120.739 570.795 117.16 574.442 111.278L582.837 97.7369C586.484 91.8542 592.913 88.2754 599.835 88.2754H636"
                stroke="#06888C"
                strokeWidth={2}
              />
              <path
                d="M46.5087 144.072H0V209H636V88.2754H595.382C591.229 88.2754 587.371 90.4227 585.183 93.9523L572.096 115.062C569.907 118.592 566.049 120.739 561.897 120.739H506.198C502.392 120.739 498.811 118.933 496.548 115.872L465.503 73.8675C463.24 70.8062 459.659 69 455.852 69H367.04C363.394 69 359.947 70.6572 357.669 73.5039L314.559 127.395C312.281 130.241 308.834 131.899 305.188 131.899H262.325C260.552 131.899 258.802 131.506 257.198 130.748L197.662 102.614C196.059 101.857 194.308 101.464 192.535 101.464H114.504C112.026 101.464 109.609 102.231 107.585 103.659L53.4276 141.877C51.4032 143.306 48.9863 144.072 46.5087 144.072Z"
                fill="url(#paint0_linear_1267_4565)"
              />
              <path
                d="M315.756 115.127C315.357 115.587 314.643 115.587 314.244 115.127L307.206 107H277C272.582 107 269 103.418 269 99V67C269 62.5817 272.582 59 277 59H353C357.418 59 361 62.5817 361 67V99C361 103.418 357.418 107 353 107H322.794L315.756 115.127Z"
                fill="white"
              />
              <path
                d="M315.756 115.127L315.945 115.291L315.756 115.127ZM314.244 115.127L314.055 115.291L314.244 115.127ZM307.206 107L307.395 106.836L307.32 106.75H307.206V107ZM269 99H268.75H269ZM269 67H268.75H269ZM277 59V58.75V59ZM361 67H361.25H361ZM361 99H361.25H361ZM353 107V107.25V107ZM322.794 107V106.75H322.68L322.605 106.836L322.794 107ZM315.756 115.127L315.567 114.963C315.268 115.309 314.732 115.309 314.433 114.963L314.244 115.127L314.055 115.291C314.554 115.866 315.446 115.866 315.945 115.291L315.756 115.127ZM314.244 115.127L314.433 114.963L307.395 106.836L307.206 107L307.017 107.164L314.055 115.291L314.244 115.127ZM307.206 107V106.75H277V107V107.25H307.206V107ZM277 107V106.75C272.72 106.75 269.25 103.28 269.25 99H269H268.75C268.75 103.556 272.444 107.25 277 107.25V107ZM269 99H269.25V67H269H268.75V99H269ZM269 67H269.25C269.25 62.7198 272.72 59.25 277 59.25V59V58.75C272.444 58.75 268.75 62.4437 268.75 67H269ZM277 59V59.25H353V59V58.75H277V59ZM353 59V59.25C357.28 59.25 360.75 62.7198 360.75 67H361H361.25C361.25 62.4437 357.556 58.75 353 58.75V59ZM361 67H360.75V99H361H361.25V67H361ZM361 99H360.75C360.75 103.28 357.28 106.75 353 106.75V107V107.25C357.556 107.25 361.25 103.556 361.25 99H361ZM353 107V106.75H322.794V107V107.25H353V107ZM322.794 107L322.605 106.836L315.567 114.963L315.756 115.127L315.945 115.291L322.983 107.164L322.794 107Z"
                fill="#4EA674"
              />
              <path
                d="M292.803 80H291.801V72.3125H289.105V71.4336H295.486V72.3125H292.803V80ZM297.607 70.8828V73.6074C297.607 73.7637 297.604 73.9219 297.596 74.082C297.588 74.2383 297.574 74.3828 297.555 74.5156H297.619C297.752 74.2891 297.92 74.0996 298.123 73.9473C298.33 73.791 298.564 73.6738 298.826 73.5957C299.088 73.5137 299.365 73.4727 299.658 73.4727C300.174 73.4727 300.604 73.5547 300.947 73.7188C301.295 73.8828 301.555 74.1367 301.727 74.4805C301.902 74.8242 301.99 75.2695 301.99 75.8164V80H301.029V75.8809C301.029 75.3457 300.906 74.9453 300.66 74.6797C300.418 74.4141 300.045 74.2812 299.541 74.2812C299.064 74.2812 298.684 74.373 298.398 74.5566C298.117 74.7363 297.914 75.002 297.789 75.3535C297.668 75.7051 297.607 76.1348 297.607 76.6426V80H296.635V70.8828H297.607ZM309.297 73.5781V80H308.5L308.359 79.0977H308.307C308.174 79.3203 308.002 79.5078 307.791 79.6602C307.58 79.8125 307.342 79.9258 307.076 80C306.814 80.0781 306.535 80.1172 306.238 80.1172C305.73 80.1172 305.305 80.0352 304.961 79.8711C304.617 79.707 304.357 79.4531 304.182 79.1094C304.01 78.7656 303.924 78.3242 303.924 77.7852V73.5781H304.908V77.7148C304.908 78.25 305.029 78.6504 305.271 78.916C305.514 79.1777 305.883 79.3086 306.379 79.3086C306.855 79.3086 307.234 79.2188 307.516 79.0391C307.801 78.8594 308.006 78.5957 308.131 78.248C308.256 77.8965 308.318 77.4668 308.318 76.959V73.5781H309.297ZM314.271 73.4609C314.4 73.4609 314.535 73.4688 314.676 73.4844C314.816 73.4961 314.941 73.5137 315.051 73.5371L314.928 74.4395C314.822 74.4121 314.705 74.3906 314.576 74.375C314.447 74.3594 314.326 74.3516 314.213 74.3516C313.955 74.3516 313.711 74.4043 313.48 74.5098C313.254 74.6113 313.055 74.7598 312.883 74.9551C312.711 75.1465 312.576 75.3789 312.479 75.6523C312.381 75.9219 312.332 76.2227 312.332 76.5547V80H311.354V73.5781H312.162L312.268 74.7617H312.309C312.441 74.5234 312.602 74.3066 312.789 74.1113C312.977 73.9121 313.193 73.7539 313.439 73.6367C313.689 73.5195 313.967 73.4609 314.271 73.4609ZM320.418 78.2422C320.418 78.6523 320.314 78.998 320.107 79.2793C319.904 79.5566 319.611 79.7656 319.229 79.9062C318.85 80.0469 318.396 80.1172 317.869 80.1172C317.42 80.1172 317.031 80.082 316.703 80.0117C316.375 79.9414 316.088 79.8418 315.842 79.7129V78.8164C316.104 78.9453 316.416 79.0625 316.779 79.168C317.143 79.2734 317.514 79.3262 317.893 79.3262C318.447 79.3262 318.85 79.2363 319.1 79.0566C319.35 78.877 319.475 78.6328 319.475 78.3242C319.475 78.1484 319.424 77.9941 319.322 77.8613C319.225 77.7246 319.059 77.5938 318.824 77.4688C318.59 77.3398 318.266 77.1992 317.852 77.0469C317.441 76.8906 317.086 76.7363 316.785 76.584C316.488 76.4277 316.258 76.2383 316.094 76.0156C315.934 75.793 315.854 75.5039 315.854 75.1484C315.854 74.6055 316.072 74.1895 316.51 73.9004C316.951 73.6074 317.529 73.4609 318.244 73.4609C318.631 73.4609 318.992 73.5 319.328 73.5781C319.668 73.6523 319.984 73.7539 320.277 73.8828L319.949 74.6621C319.684 74.5488 319.4 74.4531 319.1 74.375C318.799 74.2969 318.492 74.2578 318.18 74.2578C317.73 74.2578 317.385 74.332 317.143 74.4805C316.904 74.6289 316.785 74.832 316.785 75.0898C316.785 75.2891 316.84 75.4531 316.949 75.582C317.062 75.7109 317.242 75.832 317.488 75.9453C317.734 76.0586 318.059 76.1914 318.461 76.3438C318.863 76.4922 319.211 76.6465 319.504 76.8066C319.797 76.9629 320.021 77.1543 320.178 77.3809C320.338 77.6035 320.418 77.8906 320.418 78.2422ZM324.268 80.1172C323.455 80.1172 322.811 79.8398 322.334 79.2852C321.861 78.7305 321.625 77.9062 321.625 76.8125C321.625 75.707 321.867 74.873 322.352 74.3105C322.836 73.7441 323.48 73.4609 324.285 73.4609C324.625 73.4609 324.922 73.5059 325.176 73.5957C325.43 73.6855 325.648 73.8066 325.832 73.959C326.016 74.1074 326.17 74.2773 326.295 74.4688H326.365C326.35 74.3477 326.334 74.1816 326.318 73.9707C326.303 73.7598 326.295 73.5879 326.295 73.4551V70.8828H327.268V80H326.482L326.336 79.0859H326.295C326.174 79.2773 326.02 79.4512 325.832 79.6074C325.648 79.7637 325.428 79.8887 325.17 79.9824C324.916 80.0723 324.615 80.1172 324.268 80.1172ZM324.42 79.3086C325.107 79.3086 325.594 79.1133 325.879 78.7227C326.164 78.332 326.307 77.752 326.307 76.9824V76.8066C326.307 75.9902 326.17 75.3633 325.896 74.9258C325.627 74.4883 325.135 74.2695 324.42 74.2695C323.822 74.2695 323.375 74.5 323.078 74.9609C322.781 75.418 322.633 76.043 322.633 76.8359C322.633 77.625 322.779 78.2344 323.072 78.6641C323.369 79.0938 323.818 79.3086 324.42 79.3086ZM331.732 73.4727C332.498 73.4727 333.066 73.6445 333.438 73.9883C333.809 74.332 333.994 74.8809 333.994 75.6348V80H333.285L333.098 79.0508H333.051C332.871 79.2852 332.684 79.4824 332.488 79.6426C332.293 79.7988 332.066 79.918 331.809 80C331.555 80.0781 331.242 80.1172 330.871 80.1172C330.48 80.1172 330.133 80.0488 329.828 79.9121C329.527 79.7754 329.289 79.5684 329.113 79.291C328.941 79.0137 328.855 78.6621 328.855 78.2363C328.855 77.5957 329.109 77.1035 329.617 76.7598C330.125 76.416 330.898 76.2285 331.938 76.1973L333.045 76.1504V75.7578C333.045 75.2031 332.926 74.8145 332.688 74.5918C332.449 74.3691 332.113 74.2578 331.68 74.2578C331.344 74.2578 331.023 74.3066 330.719 74.4043C330.414 74.502 330.125 74.6172 329.852 74.75L329.553 74.0117C329.842 73.8633 330.174 73.7363 330.549 73.6309C330.924 73.5254 331.318 73.4727 331.732 73.4727ZM333.033 76.8359L332.055 76.877C331.254 76.9082 330.689 77.0391 330.361 77.2695C330.033 77.5 329.869 77.8262 329.869 78.248C329.869 78.6152 329.98 78.8867 330.203 79.0625C330.426 79.2383 330.721 79.3262 331.088 79.3262C331.658 79.3262 332.125 79.168 332.488 78.8516C332.852 78.5352 333.033 78.0605 333.033 77.4277V76.8359ZM334.984 73.5781H336.027L337.445 77.3047C337.527 77.5234 337.604 77.7344 337.674 77.9375C337.744 78.1367 337.807 78.3281 337.861 78.5117C337.916 78.6953 337.959 78.873 337.99 79.0449H338.031C338.086 78.8496 338.164 78.5938 338.266 78.2773C338.367 77.957 338.477 77.6309 338.594 77.2988L339.936 73.5781H340.984L338.189 80.9434C338.041 81.3379 337.867 81.6816 337.668 81.9746C337.473 82.2676 337.234 82.4922 336.953 82.6484C336.672 82.8086 336.332 82.8887 335.934 82.8887C335.75 82.8887 335.588 82.877 335.447 82.8535C335.307 82.834 335.186 82.8105 335.084 82.7832V82.0039C335.17 82.0234 335.273 82.041 335.395 82.0566C335.52 82.0723 335.648 82.0801 335.781 82.0801C336.023 82.0801 336.232 82.0332 336.408 81.9395C336.588 81.8496 336.742 81.7168 336.871 81.541C337 81.3652 337.111 81.1562 337.205 80.9141L337.557 80.0117L334.984 73.5781Z"
                fill="#023337"
              />
              <path
                d="M308.713 96H307.764V89.9297C307.764 89.6992 307.764 89.502 307.764 89.3379C307.768 89.1699 307.771 89.0176 307.775 88.8809C307.783 88.7402 307.793 88.5977 307.805 88.4531C307.684 88.5781 307.57 88.6855 307.465 88.7754C307.359 88.8613 307.229 88.9688 307.072 89.0977L306.094 89.8828L305.584 89.2207L307.904 87.4336H308.713V96ZM318 94.0137H316.717V96H315.768V94.0137H311.625V93.1934L315.703 87.3867H316.717V93.1348H318V94.0137ZM315.768 93.1348V90.334C315.768 90.1191 315.77 89.9258 315.773 89.7539C315.777 89.5781 315.783 89.416 315.791 89.2676C315.799 89.1152 315.805 88.9707 315.809 88.834C315.816 88.6973 315.822 88.5625 315.826 88.4297H315.779C315.705 88.5859 315.619 88.752 315.521 88.9277C315.428 89.0996 315.332 89.2539 315.234 89.3906L312.592 93.1348H315.768ZM320.227 86.8828V91.6172C320.227 91.7734 320.221 91.9648 320.209 92.1914C320.197 92.4141 320.188 92.6113 320.18 92.7832H320.221C320.303 92.6816 320.422 92.5312 320.578 92.332C320.738 92.1328 320.873 91.9727 320.982 91.8516L323.115 89.5781H324.258L321.674 92.3203L324.445 96H323.273L321.006 92.959L320.227 93.6738V96H319.26V86.8828H320.227Z"
                fill="#023337"
              />
              <circle cx="316" cy="124" r="5" fill="#C1E6BA" />
              <circle cx="316" cy="124" r="3" fill="white" />
              <path
                d="M315.54 207.999L316 133"
                stroke="#C1E6BA"
                strokeWidth={2}
                strokeLinecap="round"
                strokeDasharray="4 4"
              />
              <defs>
                <linearGradient
                  id="paint0_linear_1267_4565"
                  x1="318"
                  y1="84.2174"
                  x2="318"
                  y2="234"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#4EA674" stopOpacity={0.3} />
                  <stop offset="1" stopColor="#8CD3D5" stopOpacity={0.3} />
                </linearGradient>
              </defs>
            </svg>
          </div>

          <div className="absolute left-[72px] right-9 bottom-8 flex justify-between text-xs font-sans leading-normal">
            <span className="text-[rgba(2,51,55,0.5)]">Sun</span>
            <span className="text-[rgba(2,51,55,0.5)]">Mon</span>
            <span className="text-[rgba(2,51,55,0.5)]">Tue</span>
            <span className="font-bold text-[#023337]">Wed</span>
            <span className="text-[rgba(2,51,55,0.5)]">Thu</span>
            <span className="text-[rgba(2,51,55,0.5)]">Fri</span>
            <span className="text-[rgba(2,51,55,0.5)]">Sat</span>
          </div>
        </div>
      </div>
    </div>
  );
}
